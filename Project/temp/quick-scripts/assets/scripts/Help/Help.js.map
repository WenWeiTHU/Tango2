{"version":3,"sources":["Help.js"],"names":["cc","Class","extends","Component","properties","Player1","type","Node","default","Player2","Bind","JoyStickLeft","JoyStickRight","Gravity","icon","life","Label1","Label","Label2","Label3","Label4","Label5","Label6","Label7","Label8","Target","Target2","Enemy","Prefab","Explode","AudioSource","MainCamera","Camera","start","newDegree","stage","children","on","EventType","TOUCH_START","e","node","active","showEnemy","thing","instantiate","getComponent","speedX","speedY","addChild","setPosition","showLabel","showFriend","showBind","update","dt","v2","x","y","mag","_name","schedule","zoomRatio","scheduleOnce","director","loadScene","rotation"],"mappings":"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","file":"Help.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Help","sourcesContent":["/*\n * 帮助场景函数\n */\n\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    Player1: {\n      type: cc.Node,\n      default: null\n    },\n    Player2: {\n      type: cc.Node,\n      default: null\n    },\n    Bind: {\n      type: cc.Node,\n      default: null\n    },\n    JoyStickLeft: {\n      type: cc.Node,\n      default: null\n    },\n    JoyStickRight: {\n      type: cc.Node,\n      default: null\n    },\n    Gravity: {\n      type: cc.Node,\n      default: null\n    },\n    icon: {\n      type: cc.Node,\n      default: null\n    },\n    life: {\n      type: cc.Node,\n      default: null\n    },\n    Label1: {\n      type: cc.Label,\n      default: null\n    },\n    Label2: {\n      type: cc.Label,\n      default: null\n    },\n    Label3: {\n      type: cc.Label,\n      default: null\n    },\n    Label4: {\n      type: cc.Label,\n      default: null\n    },\n    Label5: {\n      type: cc.Label,\n      default: null\n    },\n    Label6: {\n      type: cc.Label,\n      default: null\n    },\n    Label7: {\n      type: cc.Label,\n      default: null\n    },\n    Label8: {\n      type: cc.Label,\n      default: null\n    },\n    Target: {\n      type: cc.Node,\n      default: null\n    },\n    Target2: {\n      type: cc.Node,\n      default: null\n    },\n    Enemy: {\n      type: cc.Prefab,\n      default: null\n    },\n    Explode: {\n      type: cc.AudioSource,\n      default: null\n    },\n    MainCamera: {\n      type: cc.Camera,\n      default: null\n    }\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  // onLoad () {},\n\n  /*\n     * 初始化函数\n     * 功能：初始化场景所需的设定\n     */\n  start () {\n    this.newDegree = 0\n    this.stage = 0\n    // 将右边控制杆设置为无效\n    this.JoyStickLeft.children[1].on(cc.Node.EventType.TOUCH_START, function (e) {\n      if (this.stage === 0) {\n        this.Label1.node.active = false\n        this.Label2.node.active = true\n\n        this.Target.active = true\n        this.stage = 1\n      }\n    }, this)\n  },\n\n  /*\n     * 展示敌人函数\n     * 功能：将敌人生成在地图上\n     */\n  showEnemy () {\n    this.Label2.node.active = false\n    this.Label3.node.active = true\n    this.Label8.node.active = true\n\n    const thing = cc.instantiate(this.Enemy)\n\n    thing.getComponent('Enemy').Explode = this.Explode\n    thing.getComponent('Enemy').speedX = 0\n    thing.getComponent('Enemy').speedY = 0\n    this.node.addChild(thing)\n    thing.setPosition(0, 0)\n\n    // this.length = length(this.node.children)\n\n    this.Label4.node.active = true\n    this.stage = 3\n  },\n\n  /*\n     * 展示引导语函数\n     * 功能：将引导语显示出来\n     */\n  showLabel () {\n    this.Label3.node.active = false\n    this.Label4.node.active = false\n    this.Label5.node.active = true\n    this.Target2.active = true\n    this.stage = 5\n  },\n\n  /*\n     * 展示队友函数\n     * 功能：显示队友\n     */\n  showFriend () {\n    this.Label5.node.active = false\n    this.Label6.node.active = true\n    this.Player2.active = true\n    this.stage = 7\n  },\n\n  /*\n     * 展示链接函数\n     * 功能：使链接显示出来\n     */\n  showBind () {\n    this.Bind.active = true\n    this.Gravity.active = true\n    this.JoyStickRight.active = true\n    this.Label6.node.active = false\n    this.Label7.node.active = true\n    this.icon.active = true\n    this.life.active = true\n    this.stage = 8\n\n    const thing = cc.instantiate(this.Enemy)\n    thing.getComponent('Enemy').Explode = this.Explode\n    this.node.addChild(thing)\n    thing.setPosition(0, 300)\n  },\n\n  /*\n     * 系统更新函数\n     * 功能：根据当前玩家的状态来更新下一步的状态\n     */\n  update (dt) {\n    if (this.stage === 1 && cc.v2(this.Target.x - this.Player1.x, this.Target.y - this.Player1.y).mag() < 40) {\n      this.stage = 2\n      this.Target.active = false\n      this.showEnemy()\n    }\n\n    if (this.stage === 5 && cc.v2(this.Target2.x - this.Player1.x, this.Target2.y - this.Player1.y).mag() < 40) {\n      this.stage = 6\n      this.Target2.active = false\n      this.showFriend()\n    }\n\n    if (this.stage === 3 && this.node.children[11] && this.node.children[11]._name !== 'enemy') {\n      this.stage = 4\n      this.Label8.node.active = false\n      this.showLabel()\n    }\n\n    if (this.stage === 7 && cc.v2(this.Player2.x - this.Player1.x, this.Player2.y - this.Player1.y).mag() < 40) {\n      this.stage = 8\n      this.showBind()\n    }\n\n    if (this.stage === 8 && this.node.children[11] && this.node.children[11]._name !== 'enemy') {\n      this.schedule(() => {\n        this.MainCamera.zoomRatio -= 0.0003\n      }, 0.05)\n\n      this.scheduleOnce(() => {\n        cc.director.loadScene('beginMenu')\n      }, 2)\n    }\n\n    this.newDegree = this.newDegree + 2\n    this.newDegree = this.newDegree > 360 ? this.newDegree - 360 : this.newDegree\n    if (this.Target.active) {\n      this.Target.rotation = this.newDegree\n    }\n    if (this.Target2.active) {\n      this.Target2.rotation = this.newDegree\n    }\n  }\n})\n"]}