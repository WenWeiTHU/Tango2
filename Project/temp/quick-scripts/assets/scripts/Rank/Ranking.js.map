{"version":3,"sources":["Ranking.js"],"names":["cc","Class","extends","Component","properties","First","type","Label","default","Second","Third","BackBtn","Button","onLoad","showRank","node","on","director","loadScene","start","scores","JSON","parse","sys","localStorage","getItem","length","string","active","score"],"mappings":";;;;;;AAAA;;;;AAIAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,WAAO;AACLC,YAAMN,GAAGO,KADJ;AAELC,eAAS;AAFJ,KADG;AAKVC,YAAQ;AACNH,YAAMN,GAAGO,KADH;AAENC,eAAS;AAFH,KALE;AASVE,WAAO;AACLJ,YAAMN,GAAGO,KADJ;AAELC,eAAS;AAFJ,KATG;AAaVG,aAAS;AACPL,YAAMN,GAAGY,MADF;AAEPJ,eAAS;AAFF;AAbC,GAHL;;AAsBP;;;;AAIAK,QA1BO,oBA0BG;AACR,SAAKC,QAAL;AACA,SAAKH,OAAL,CAAaI,IAAb,CAAkBC,EAAlB,CAAqB,OAArB,EAA8B,YAAM;AAClChB,SAAGiB,QAAH,CAAYC,SAAZ,CAAsB,gBAAtB;AACD,KAFD,EAEG,IAFH;AAGD,GA/BM;AAiCPC,OAjCO,mBAiCE,CAER,CAnCM;;;AAqCP;;;;AAIAL,UAzCO,sBAyCK;AACV,QAAIM,SAASC,KAAKC,KAAL,CAAWtB,GAAGuB,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAX,CAAb;AACA,QAAIL,OAAOM,MAAP,GAAgB,CAApB,EAAuB;AACrB,WAAKrB,KAAL,CAAWsB,MAAX,GAAoB,0BAApB;AACA,WAAKlB,MAAL,CAAYmB,MAAZ,GAAqB,KAArB;AACA,WAAKlB,KAAL,CAAWkB,MAAX,GAAoB,KAApB;AACA;AACD;AACD,SAAKvB,KAAL,CAAWsB,MAAX,GAAoB,UAAUP,OAAO,CAAP,EAAUS,KAApB,GAA4B,GAAhD;AACA,QAAIT,OAAOM,MAAP,GAAgB,CAApB,EAAuB;AACrB,WAAKjB,MAAL,CAAYkB,MAAZ,GAAqB,+BAArB;AACA,WAAKjB,KAAL,CAAWiB,MAAX,GAAoB,EAApB;AACA;AACD;AACD,SAAKlB,MAAL,CAAYkB,MAAZ,GAAqB,UAAUP,OAAO,CAAP,EAAUS,KAApB,GAA4B,GAAjD;AACA,QAAIT,OAAOM,MAAP,GAAgB,CAApB,EAAuB;AACrB,WAAKhB,KAAL,CAAWiB,MAAX,GAAoB,iCAApB;AACA;AACD;AACD,SAAKjB,KAAL,CAAWiB,MAAX,GAAoB,UAAUP,OAAO,CAAP,EAAUS,KAApB,GAA4B,GAAhD;AACD;;AAED;;AA/DO,CAAT","file":"Ranking.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Rank","sourcesContent":["/*\r\n * 排行榜脚本\r\n */\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    First: {\r\n      type: cc.Label,\r\n      default: null\r\n    },\r\n    Second: {\r\n      type: cc.Label,\r\n      default: null\r\n    },\r\n    Third: {\r\n      type: cc.Label,\r\n      default: null\r\n    },\r\n    BackBtn: {\r\n      type: cc.Button,\r\n      default: null\r\n    }\r\n  },\r\n\r\n  /*\r\n     * 初始化函数\r\n     * 功能：初始化脚本所需设定\r\n     */\r\n  onLoad () {\r\n    this.showRank()\r\n    this.BackBtn.node.on('click', () => {\r\n      cc.director.loadScene('Transition_INF')\r\n    }, this)\r\n  },\r\n\r\n  start () {\r\n\r\n  },\r\n\r\n  /*\r\n     * 展示排行函数\r\n     * 功能：计算和展示排名\r\n     */\r\n  showRank () {\r\n    var scores = JSON.parse(cc.sys.localStorage.getItem('ranking'))\r\n    if (scores.length < 1) {\r\n      this.First.string = 'There is no ranking yet!'\r\n      this.Second.active = false\r\n      this.Third.active = false\r\n      return\r\n    }\r\n    this.First.string = '1st: ' + scores[0].score + 's'\r\n    if (scores.length < 2) {\r\n      this.Second.string = 'Oh! There is only one records'\r\n      this.Third.string = ''\r\n      return\r\n    }\r\n    this.Second.string = '2nd: ' + scores[1].score + 's'\r\n    if (scores.length < 3) {\r\n      this.Third.string = 'Oh! There are only two records!'\r\n      return\r\n    }\r\n    this.Third.string = '3rd: ' + scores[2].score + 's'\n  }\r\n\r\n  // update (dt) {},\r\n})\r\n"]}